{"ast":null,"code":"var _jsxFileName = \"/Users/joeldelatte/bootcamp/Project_3_Dinner_Party/client/src/containers/Feed/FeedPage.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../utils/UserContext\";\nimport './FeedPage.css';\nimport Feeds from '../../components/Feeds/Feeds';\nimport Footer from '../../components/Footer/Footer';\nimport Navbar from '../../components/Navbar/Navbar';\nimport API from \"../../utils/API\";\nexport default function FeedPage() {\n  const [events, setEvents] = useState([]);\n  const {\n    globalUserName,\n    setGlobalUserName\n  } = useContext(UserContext);\n  useEffect(() => {\n    loadEvents();\n    history.block('Are you sure you want to leave this page?');\n  }, []);\n\n  function loadEvents() {\n    API.getEvents().then(res => setEvents(res.data)).catch(err => console.log(err));\n  }\n\n  ;\n  useEffect(() => {\n    const data = localStorage.getItem(\"globalUserName\");\n\n    if (data) {\n      setGlobalUserName(JSON.parse(data));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"globalUserName\", JSON.stringify(globalUserName));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FeedPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    currentUser: globalUserName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Feeds, {\n    className: \"feeds\",\n    events: events,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/joeldelatte/bootcamp/Project_3_Dinner_Party/client/src/containers/Feed/FeedPage.js"],"names":["React","useContext","useState","useEffect","useHistory","UserContext","Feeds","Footer","Navbar","API","FeedPage","events","setEvents","globalUserName","setGlobalUserName","loadEvents","history","block","getEvents","then","res","data","catch","err","console","log","localStorage","getItem","JSON","parse","setItem","stringify"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAGA,eAAe,SAASC,QAAT,GAAoB;AAE/B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAEW,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAAwCb,UAAU,CAACI,WAAD,CAAxD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,UAAU;AACVC,IAAAA,OAAO,CAACC,KAAR,CAAc,2CAAd;AACH,GAHQ,EAGN,EAHM,CAAT;;AAKA,WAASF,UAAT,GAAsB;AAClBN,IAAAA,GAAG,CAACS,SAAJ,GACKC,IADL,CACUC,GAAG,IACLR,SAAS,CAACQ,GAAG,CAACC,IAAL,CAFjB,EAIKC,KAJL,CAIWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJlB;AAKH;;AAAA;AAEDpB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMkB,IAAI,GAAGK,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAb;;AACA,QAAIN,IAAJ,EAAU;AACNP,MAAAA,iBAAiB,CAACc,IAAI,CAACC,KAAL,CAAWR,IAAX,CAAD,CAAjB;AACH;AACJ,GALQ,EAKN,EALM,CAAT;AAOAlB,EAAAA,SAAS,CAAC,MAAM;AACZuB,IAAAA,YAAY,CAACI,OAAb,CAAqB,gBAArB,EAAuCF,IAAI,CAACG,SAAL,CAAelB,cAAf,CAAvC;AACH,GAFQ,CAAT;AAIA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,WAAW,EAAEA,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,KAAD;AACI,IAAA,SAAS,EAAC,OADd;AAEI,IAAA,MAAM,EAAEF,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAMI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADJ;AAUH","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport { UserContext } from \"../../utils/UserContext\";\nimport './FeedPage.css';\nimport Feeds from '../../components/Feeds/Feeds';\nimport Footer from '../../components/Footer/Footer';\nimport Navbar from '../../components/Navbar/Navbar';\nimport API from \"../../utils/API\";\n\n\nexport default function FeedPage() {\n\n    const [events, setEvents] = useState([])\n    const { globalUserName, setGlobalUserName } = useContext(UserContext);\n\n    useEffect(() => {\n        loadEvents()\n        history.block('Are you sure you want to leave this page?');\n    }, [])\n\n    function loadEvents() {\n        API.getEvents()\n            .then(res =>\n                setEvents(res.data)\n            )\n            .catch(err => console.log(err));\n    };\n\n    useEffect(() => {\n        const data = localStorage.getItem(\"globalUserName\");\n        if (data) {\n            setGlobalUserName(JSON.parse(data));\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem(\"globalUserName\", JSON.stringify(globalUserName));\n    });\n\n    return (\n        <div className='FeedPage'>\n            <Navbar currentUser={globalUserName} />\n            <Feeds\n                className='feeds'\n                events={events}\n            />\n            <Footer />\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}