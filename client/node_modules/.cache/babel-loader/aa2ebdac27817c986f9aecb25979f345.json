{"ast":null,"code":"var _jsxFileName = \"/Users/joeldelatte/bootcamp/Project_3_Dinner_Party/client/src/containers/DashboardPage/DashboardPage.js\";\nimport React, { useContext, useState, useEffect, useLayoutEffect } from 'react';\nimport { UserContext } from \"../../utils/UserContext\";\nimport { UserIdContext } from \"../../utils/UserIdContext\";\nimport './DashboardPage.css';\nimport YourEvents from '../../components/Dashboard/YourEvents';\nimport YourRSVPS from '../../components/Dashboard/YourRSVPS';\nimport Footer from '../../components/Footer/Footer';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Heading from '../../components/Heading/Heading';\nimport API from \"../../utils/API\";\nexport default function DashboardPage() {\n  const [rsvpEvents, setRsvpEvents] = useState([]);\n  const [events, setEvents] = useState([]);\n  const {\n    globalUserName,\n    setGlobalUserName\n  } = useContext(UserContext);\n  const {\n    globalUserId,\n    setGlobalUserId\n  } = useContext(UserIdContext);\n  useEffect(() => {\n    const data1 = localStorage.getItem(\"globalUserName\");\n\n    if (data1) {\n      setGlobalUserName(JSON.parse(data1));\n    }\n\n    const data2 = localStorage.getItem(\"globalUserId\");\n\n    if (data2) {\n      setGlobalUserId(JSON.parse(data2));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"globalUserName\", JSON.stringify(globalUserName));\n    localStorage.setItem(\"globalUserId\", JSON.stringify(globalUserId));\n  }, []);\n  useLayoutEffect(() => {\n    setTimeout(() => {\n      loadEvents(globalUserId);\n    }, 100); // return () => clearTimeout(timer);\n  }, [globalUserId]);\n\n  function loadEvents(UserId) {\n    API.getEvent(UserId).then(res => setEvents(res.data));\n  }\n\n  ;\n  useEffect(() => {\n    setTimeout(() => {\n      loadRsvpEvents(globalUserId);\n    }, 100); // return () => clearTimeout(timer);\n  }, [globalUserId]);\n\n  function loadRsvpEvents(UserId) {\n    API.getRsvpEvents(UserId).then(res => setRsvpEvents(res.data));\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FeedPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    currentUser: globalUserName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Your Events\"), /*#__PURE__*/React.createElement(YourEvents, {\n    className: \"feeds\",\n    events: events,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"Your RSVPs\"), /*#__PURE__*/React.createElement(YourRSVPS, {\n    className: \"YourEvents\",\n    rsvps: rsvpEvents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/joeldelatte/bootcamp/Project_3_Dinner_Party/client/src/containers/DashboardPage/DashboardPage.js"],"names":["React","useContext","useState","useEffect","useLayoutEffect","UserContext","UserIdContext","YourEvents","YourRSVPS","Footer","Navbar","Heading","API","DashboardPage","rsvpEvents","setRsvpEvents","events","setEvents","globalUserName","setGlobalUserName","globalUserId","setGlobalUserId","data1","localStorage","getItem","JSON","parse","data2","setItem","stringify","setTimeout","loadEvents","UserId","getEvent","then","res","data","loadRsvpEvents","getRsvpEvents"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiDC,eAAjD,QAAwE,OAAxE;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,OAAO,qBAAP;AACA,OAAOC,UAAP,MAAuB,uCAAvB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAGA,eAAe,SAASC,aAAT,GAAyB;AAEpC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACc,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAEgB,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAAwClB,UAAU,CAACI,WAAD,CAAxD;AACA,QAAM;AAAEe,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAoCpB,UAAU,CAACK,aAAD,CAApD;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMmB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAd;;AACA,QAAIF,KAAJ,EAAW;AACPH,MAAAA,iBAAiB,CAACM,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAD,CAAjB;AACH;;AACD,UAAMK,KAAK,GAAGJ,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd;;AACA,QAAIG,KAAJ,EAAW;AACPN,MAAAA,eAAe,CAACI,IAAI,CAACC,KAAL,CAAWC,KAAX,CAAD,CAAf;AACH;AACJ,GATQ,EASN,EATM,CAAT;AAWAxB,EAAAA,SAAS,CAAC,MAAM;AACZoB,IAAAA,YAAY,CAACK,OAAb,CAAqB,gBAArB,EAAuCH,IAAI,CAACI,SAAL,CAAeX,cAAf,CAAvC;AACAK,IAAAA,YAAY,CAACK,OAAb,CAAqB,cAArB,EAAqCH,IAAI,CAACI,SAAL,CAAeT,YAAf,CAArC;AACH,GAHQ,EAGP,EAHO,CAAT;AAKAhB,EAAAA,eAAe,CAAC,MAAM;AAClB0B,IAAAA,UAAU,CAAC,MAAM;AACbC,MAAAA,UAAU,CAACX,YAAD,CAAV;AACH,KAFS,EAEP,GAFO,CAAV,CADkB,CAIlB;AACH,GALc,EAKZ,CAACA,YAAD,CALY,CAAf;;AAOA,WAASW,UAAT,CAAoBC,MAApB,EAA4B;AACxBpB,IAAAA,GAAG,CAACqB,QAAJ,CAAaD,MAAb,EACKE,IADL,CACUC,GAAG,IACLlB,SAAS,CAACkB,GAAG,CAACC,IAAL,CAFjB;AAKH;;AAAA;AAEDjC,EAAAA,SAAS,CAAC,MAAM;AACZ2B,IAAAA,UAAU,CAAC,MAAM;AACbO,MAAAA,cAAc,CAACjB,YAAD,CAAd;AACH,KAFS,EAEP,GAFO,CAAV,CADY,CAIZ;AACH,GALQ,EAKN,CAACA,YAAD,CALM,CAAT;;AAOA,WAASiB,cAAT,CAAwBL,MAAxB,EAAgC;AAC5BpB,IAAAA,GAAG,CAAC0B,aAAJ,CAAkBN,MAAlB,EACKE,IADL,CACUC,GAAG,IACLpB,aAAa,CAACoB,GAAG,CAACC,IAAL,CAFrB;AAIH;;AAAA;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,WAAW,EAAElB,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAC,OADd;AAEI,IAAA,MAAM,EAAEF,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAOI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAC,YADd;AAEI,IAAA,KAAK,EAAEF,UAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAPJ,CADJ,CAFJ,eAkBI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBJ,CADJ;AAsBH","sourcesContent":["import React, { useContext, useState, useEffect, useLayoutEffect } from 'react';\nimport { UserContext } from \"../../utils/UserContext\";\nimport { UserIdContext } from \"../../utils/UserIdContext\";\nimport './DashboardPage.css';\nimport YourEvents from '../../components/Dashboard/YourEvents';\nimport YourRSVPS from '../../components/Dashboard/YourRSVPS';\nimport Footer from '../../components/Footer/Footer';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Heading from '../../components/Heading/Heading';\nimport API from \"../../utils/API\";\n\n\nexport default function DashboardPage() {\n\n    const [rsvpEvents, setRsvpEvents] = useState([]);\n    const [events, setEvents] = useState([]);\n    const { globalUserName, setGlobalUserName } = useContext(UserContext);\n    const { globalUserId, setGlobalUserId } = useContext(UserIdContext);\n\n    useEffect(() => {\n        const data1 = localStorage.getItem(\"globalUserName\");\n        if (data1) {\n            setGlobalUserName(JSON.parse(data1));\n        }\n        const data2 = localStorage.getItem(\"globalUserId\");\n        if (data2) {\n            setGlobalUserId(JSON.parse(data2));\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem(\"globalUserName\", JSON.stringify(globalUserName));\n        localStorage.setItem(\"globalUserId\", JSON.stringify(globalUserId));\n    },[]);\n\n    useLayoutEffect(() => {\n        setTimeout(() => {\n            loadEvents(globalUserId)\n        }, 100);\n        // return () => clearTimeout(timer);\n    }, [globalUserId]);\n\n    function loadEvents(UserId) {\n        API.getEvent(UserId)\n            .then(res =>\n                setEvents(res.data)\n            );\n\n    };\n\n    useEffect(() => {\n        setTimeout(() => {\n            loadRsvpEvents(globalUserId)\n        }, 100);\n        // return () => clearTimeout(timer);\n    }, [globalUserId]);\n\n    function loadRsvpEvents(UserId) {\n        API.getRsvpEvents(UserId)\n            .then(res =>\n                setRsvpEvents(res.data)\n            );\n    };\n\n    return (\n        <div className='FeedPage'>\n            <Navbar currentUser={globalUserName} />\n            <div className='container'>\n                <div className='row'>\n                    <div className='col'>\n                        <Heading>Your Events</Heading>\n                        <YourEvents\n                            className='feeds'\n                            events={events} />\n                    </div>\n                    <div className='col'>\n                        <Heading>Your RSVPs</Heading>\n                        <YourRSVPS\n                            className='YourEvents'\n                            rsvps={rsvpEvents} />\n                    </div>\n                </div>\n            </div>\n            <Footer />\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}